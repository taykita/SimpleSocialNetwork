<!doctype html>
<html lang="ru">
<head>
    <title>Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<script>
    let currentCount = 1;
    $(document).off('.data-api')
    $(function () {
        $('#getForecast').click(function () {
            let data = {count: currentCount};
            $.get("testJSON", data, success, "json");
        });

        function success(posts) {
            for (let i = 0; i < posts.length; i++) {
                let div = document.createElement('div');
                div.innerHTML =
                    '<div class="row">\n' +
                    '   <div class="col-md-7">\n' +
                    '       <div class="p-2">\n' +
                    '           <div class="post">\n' +
                    '               <h6 class="list">' + posts[i].userName + '</h6>\n' +
                    '               <p class="list">' + posts[i].date + '</p>\n' +
                    '               <p class="list">' + posts[i].text + '</p>\n' +
                    '           </div>\n' +
                    '       </div>\n' +
                    '   </div>\n' +
                    '</div>\n';
                document.body.append(div);
            }
            currentCount += 10;
        }
    });


</script>

</head>

<body>

<button id="getForecast">Получить прогноз погоды</button>

</body>
</html>